<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Orcommerce</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/estilo.css">
</head>
<body>
        <nav class="navbar navbar-default estilo-nav" id="menu">    <!--MENU-->
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html" style="padding: 0px">
                        <img src="img/orc-logo.png" style="width: 210px; vertical-align: top;">
                    </a>
                </div>
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">Categorias</a>
                    </li>
                </ul>
                <form class="navbar-form navbar-left">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Pesquisar">
                        <div class="input-group-btn">
                            <button type="submit" class="btn btn-default">
                                <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </div>
                    </div>
                </form>
                <ul class="nav navbar-nav">
                    <li v-if="logged">  <!--Criar Anúncio (v-if)-->
                        <a href="criar-anuncio.html">Criar Anúncio</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" v-if="logged">      <!--CONTA/LOGOUT-->
                    <li>
                        <a href="conta.html">{{usuario.nome}} de {{usuario.cidade}}, {{usuario.estado}}</a>
                    </li>
                    <li>
                        <a href="#" type="button" @click="fazerLogout">Logout</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" v-else>    <!--LOGIN/CADASTRO (v-else)-->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Login</a>
                        <ul class="dropdown-menu" role="menu">
                            <li>
                                <form style="padding: 12px">
                                    <div class="form-group">
                                        <label for="inputEmail">Login</label>
                                        <input type="text" class="form-control" id="inputEmail" v-model="login.email">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputSenha">Senha</label>
                                        <input type="password" class="form-control" id="inputSenha" v-model="login.senha">
                                    </div>
                                    <button class="btn btn-default" type="button" @click="fazerLogin">Login</button>
                                </form>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="criar-conta.html">Criar Conta</a>
                    </li>
                </ul>
            </div>
        </nav>

    <div class="container" id="conta"><!--CONTEÚDO-->
        <div class="row">
            <h3 class="estilo-center">Dados da Conta</h3>
            <div class="col-sm-2"></div>
            <form class="col-sm-8">
                <div class="form-group">
                    <label for="iUsername">Nome de usuário</label>
                    <input type="text" id="iUsername" class="form-control" v-model="usuario.username">
                </div>
                <div class="form-group">
                    <label for="iSenhaAtual">Senha atual</label>
                    <input type="password" id="iSenhaAtual" class="form-control" v-model="usuario.senhaAtual">
                </div>
                <div class="form-group">
                    <label for="iSenhaNova">Nova Senha</label>
                    <input type="password" id="iSenhaNova" class="form-control" v-model="usuario.senhaNova">
                </div>
                <div class="form-group">
                    <label for="iSenhaNovac">Confirmar Nova Senha</label>
                    <input type="password" id="iSenhaNovac" class="form-control" v-model="usuario.senhaNovac">
                </div>
                <div class="form-group">
                    <label for="iCidade">Cidade</label>
                    <input type="text" id="iCidade" class="form-control" v-model="usuario.cidade">
                </div>
                <div class="form-group">
                    <label for="iEstado">Estado</label>
                    <select id="iEstado" v-model="usuario.estado">
                        <option v-bind:value="estado.nome" class="form-control" v-for="estado in estados">{{estado.nome}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <button type="button" class="btn btn-success" @click="atualizar">Atualizar Dados</button>
                </div>
            </form>
        </div>
        <div class="row" v-if="anuncios.length">    <!--Se houver anúncios(v-if)-->
            <h3 class="estilo-center">Seus itens anunciados</h3>
            <div class="col-sm-1"></div>
            <ul class="list-group col-sm-10">
                <li class="list-group-item" v-for="anuncio in anuncios">
                    <div class="media">
                        <div class="media-left">
                            <img v-bind:src="anuncio.foto">
                        </div>
                        <div class="media-body">    <!--TODO link para página do anúncio-->
                            <div class="row">
                                <div class="col-sm-8">
                                    <h3>{{anuncio.nome}}</h3>
                                    <h4>R$ {{anuncio.preco}}</h4>
                                </div>
                                <div class="col-sm-4">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                    Postado em {{getData(anuncio.data)}}<br>
                                    <span class="glyphicon glyphicon-map-marker"></span>
                                    {{anuncio.cidade}}, {{anuncio.estado}}
                                </div>
                            </div>
                            //TODO link para a página do anúncio
                            <p>{{anuncio.descri}}</p>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div v-else>    <!--Se não houver anúncios(v-else)-->
            Você não tem nenhum anúncio publicado.
        </div>
    </div>

    <script src="controller/menu-controller.js"></script>
    <script src="controller/conta-controller.js"></script>
</body>
</html>